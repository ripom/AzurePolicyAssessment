{
  "version": "3.1.0",
  "releaseDate": "2026-02-20",
  "minimumPowerShellVersion": "7.0",
  "releaseNotesUrl": "https://github.com/ripom/AzurePolicyAssessment/blob/main/CHANGELOG.md",
  "scriptUrl": "https://raw.githubusercontent.com/ripom/AzurePolicyAssessment/main/Get-PolicyAssignments.ps1",
  "history": [
    {
      "version": "3.1.0",
      "releaseDate": "2026-02-20",
      "highlights": [
        "CE+ multi-assignment awareness: auto-detects initiative assigned at multiple scopes",
        "CE+ ARG query deduplication: strictest-state-wins prevents double-counting across overlapping scopes",
        "CE+ per-scope compliance breakdown: console and HTML report show compliance % per assignment scope with progress bars",
        "CE+ per-scope collapsible cards: each assignment gets a card with control group bars, policy detail, test summary, and assignment info",
        "CE+ per-scope control group bars: policy-level compliance bars per control group inside each scope card, consistent with standalone view",
        "CE+ per-scope query dedup fix: Compliant + NonCompliant + Exempt = Total for each scope",
        "CE+ multi-assignment banner in HTML report: lists all assignments, scopes, and enforcement modes",
        "CE+ enhanced TEST 2: per-assignment scope and enforcement detail with overlap warnings",
        "CE+ per-scope YAML export: cepPerScopeCompliance section in YAML database for multi-assignment environments",
        "Display: simplified update banner and success box — horizontal lines only, no vertical borders"
      ]
    },
    {
      "version": "3.0.2",
      "releaseDate": "2026-02-19",
      "highlights": [
        "Update mechanism: VERSION.json uses history array exclusively for cumulative changes",
        "Update mechanism: grouped per-version display in both startup banner and -Update flow"
      ]
    },
    {
      "version": "3.0.1",
      "releaseDate": "2026-02-19",
      "highlights": [
        "Performance: replaced all @() += patterns with List<T> — eliminates O(n²) array copy overhead",
        "Performance: meaningful speedup for tenants with 1000+ policy assignments",
        "Code quality: removed unused variables ($regEffect, $regNamesJoined)"
      ]
    },
    {
      "version": "3.0.0",
      "releaseDate": "2026-02-18",
      "highlights": [
        "Major release: complete interface overhaul & accuracy upgrade",
        "Simplified CLI: -Output and -CEP parameters replace 6+ legacy switches",
        "Real policy definition metadata via batch ARG query — no more regex guessing",
        "Policy exemptions: discovery, HTML report integration, YAML delta tracking",
        "YAML database export (-Output YAML) and delta comparison (-DeltaYAML)",
        "CE+ v3.2 Test Specification (TC1-TC5) aligned to NCSC specification",
        "Azure Landing Zone Analysis section in HTML report",
        "Cost & security scoring accuracy fix for parameterised initiatives",
        "Automatic update check and -Update self-update from GitHub",
        "-ManagementGroup and -Subscription scope filtering",
        "Quick Assess mode (-QuickAssess) for one-page executive summary"
      ]
    },
    {
      "version": "2.2.0",
      "releaseDate": "2026-02-06",
      "highlights": [
        "Cyber Essentials Plus compliance mapping (experimental)",
        "24 policy mappings across 5 CE+ categories",
        "Automatic CE+ compliance score calculation",
        "CSV export for CE+ compliance report (-ExportCEPCompliance)",
        "Gap analysis: deployed vs missing controls with recommendations"
      ]
    },
    {
      "version": "2.1.0",
      "releaseDate": "2026-02-05",
      "highlights": [
        "Azure Resource Graph integration — 10-50x performance improvement",
        "Single ARG query replaces iterating through MG/Sub/RG",
        "Pagination support for large result sets (1000+ assignments)",
        "Progress bars for ARG queries and processing",
        "Fixed ALZ policy fetching syntax errors and 404 errors"
      ]
    },
    {
      "version": "2.0.1",
      "releaseDate": "2026-02-05",
      "highlights": [
        "Optional -TenantId parameter for automation and CI/CD pipelines",
        "Comprehensive summary statistics (type distribution, scope, effects, enforcement)"
      ]
    },
    {
      "version": "2.0.0",
      "releaseDate": "2026-02-05",
      "highlights": [
        "Subscription and Resource Group enumeration (-IncludeSubscriptions, -IncludeResourceGroups)",
        "Multi-tenant support with tenant boundary enforcement",
        "Fixed compliance data accuracy (non-compliant resources/policies counts)",
        "Enhanced security posture assessment with ALZ gap analysis",
        "Progress bars for policy enumeration and CSV export"
      ]
    },
    {
      "version": "1.0.0",
      "releaseDate": "2026-02-01",
      "highlights": [
        "Initial release: Azure Landing Zone policy assessment",
        "Policy analysis with effect, enforcement, impact and risk classification",
        "ALZ gap analysis with dynamic policy recommendations",
        "CSV export with timestamped naming",
        "Color-coded console output with summary statistics"
      ]
    }
  ]
}
